<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Recepción y Entrega Técnica</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="./CSS/styles2.css">
  </head>

  <body>
    <nav class="navbar bg-primary fixed-top" data-bs-theme="light">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold text-light" href="#"><i class="bi bi-arrow-left-right me-2"></i>Sistema de recepcion y entrega tecnica</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel"><i class="bi bi-three-dots-vertical me-2"></i>Menú</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item mb-2">
                <a class="nav-link active" aria-current="page" href="#"><i class="bi bi-house me-2"></i>Inicio</a>
              </li>
              <li class="nav-item mb-2">
                <a class="nav-link" href="./HTML/seleccionR.html"><i class="bi bi-wrench-adjustable-circle me-2"></i>Reparación</a>
              </li>
              <li class="nav-item dropdown mb-2">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-arrow-left-right me-2"></i>Recepcion y entrega</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item mb-1" href="./HTML/seleccionrye.html">Menú</a></li>
                  <li><a class="dropdown-item" href="#">Hand Held</a></li>
                  <li><a class="dropdown-item" href="#">Impresora Movil</a></li>
                  <li><a class="dropdown-item" href="#">Impresora Fija</a></li>
                  <li><a class="dropdown-item" href="#">Accesorios</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <!-- CONTENIDO -->
    <div class="container col-xxl-12 mt-4 mb-5">
      <div class="wizard-layout">
        <!-- COLUMNA IZQUIERDA: PESTAÑAS VERTICALES -->
        <div class="wizard-tabs-vertical">
          <h5 class="mb-4 text-center"><i class="bi bi-menu-button-wide me-2"></i>Seleccionar Formulario</h5>
          
          <button class="vertical-tab recepcion active" data-form="recepcion">
            <i class="bi bi-box-arrow-in-down me-2"></i>Recepción Técnica
          </button>
          
          <button class="vertical-tab entrega" data-form="entrega">
            <i class="bi bi-box-arrow-up me-2"></i>Entrega Técnica
          </button>
        </div>

        <!-- COLUMNA DERECHA: CONTENIDO DEL FORMULARIO -->
        <div class="wizard-content">
          <!-- ============================================ -->
          <!-- FORMULARIO DE RECEPCIÓN TÉCNICA -->
          <!-- ============================================ -->
          <div class="form-container recepcion-form active">
            <div class="card bg-light p-4 shadow">
              <h2 class="text-center mb-4 text-primary">
                <i class="bi bi-journal-text me-2"></i>Formulario de Recepción Técnica
              </h2>
              
              <!-- BARRA DE PESTAÑAS HORIZONTALES PARA PASOS -->
              <div class="nav-tabs-horizontal" id="recepcionTabs">
                <button class="nav-tab-horizontal active" data-step="1"><i class="bi bi-info-circle me-2"></i>1. Información</button>
                <button class="nav-tab-horizontal disabled" data-step="2"><i class="bi bi-phone me-2"></i>2. Equipos</button>
                <button class="nav-tab-horizontal disabled" data-step="3"><i class="bi bi-journal-text me-2"></i>3. Observaciones</button>
                <button class="nav-tab-horizontal disabled" data-step="4"><i class="bi bi-pen me-2"></i>4. Firma y Evidencias</button>
              </div>

              <form class="row px-3 needs-validation" id="formularioRecepcion" novalidate>
                <p><small>Los campos marcados con * son obligatorios.</small></p>

                <!-- PASO 1: INFORMACIÓN DE RECEPCIÓN -->
                <div class="wizard-step recepcion-step active" data-step="1">
                  <section class="mb-4">
                    <h5 class="border-bottom pb-2 text-primary">
                      <i class="bi bi-person-lines-fill me-2"></i>Información de Recepción
                    </h5>

                    <div class="row g-3">
                      <div class="col-xxl-4 col-sm-4">
                        <label for="fechaRecepcion" class="form-label">Fecha*</label>
                        <input type="date" id="fechaRecepcion" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="nombreRecepcion" class="form-label">Nombre de quien recibe*</label>
                        <input type="text" id="nombreRecepcion" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="cedulaRecepcion" class="form-label">Cédula*</label>
                        <input type="number" id="cedulaRecepcion" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="clienteRecepcion" class="form-label">Cliente*</label>
                        <input type="text" id="clienteRecepcion" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="idClienteRecepcion" class="form-label">ID Cliente*</label>
                        <input type="text" id="idClienteRecepcion" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="ubicacionRecepcion" class="form-label">Ubicación*</label>
                        <select class="form-select" id="ubicacionRecepcion" required>
                          <option value="">Seleccione...</option>
                          <option value="Barranquilla">Barranquilla</option>
                          <option value="Bogotá">Bogotá</option>
                          <option value="Cali">Cali</option>
                          <option value="Cartagena">Cartagena</option>
                          <option value="Medellín">Medellín</option>
                          <option value="Bucaramanga">Bucaramanga</option>
                          <option value="Pereira">Pereira</option>
                          <option value="Cúcuta">Cúcuta</option>
                          <option value="Santa Marta">Santa Marta</option>
                          <option value="Sincelejo">Sincelejo</option>
                          <option value="Villavicencio">Villavicencio</option>
                          <option value="Yopal">Yopal</option>
                        </select>
                      </div>
                    </div>
                  </section>

                  <!-- BOTÓN SIGUIENTE -->
                  <div class="step-nav">
                    <div></div>
                    <button type="button" class="btn btn-primary btn-lg wizard-next-recepcion">
                      Siguiente <i class="bi bi-arrow-right-circle ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- PASO 2: EQUIPOS -->
                <div class="wizard-step recepcion-step" data-step="2">
                  <section class="mt-3 mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                      <h5 class="border-bottom pb-2 text-primary">
                        <i class="bi bi-laptop me-2"></i>Información del Equipo
                      </h5>
                      <button type="button" class="btn btn-outline-primary btn-sm" id="agregarEquipoRecepcion">
                        <i class="bi bi-plus-lg me-1"></i>Agregar otro equipo
                      </button>
                    </div>

                    <div class="equipo-container mt-3" id="accordionEquiposRecepcion">
                      <!-- Equipo base -->
                      <div class="equipo-item border rounded p-3 mb-3 bg-white shadow-sm">
                        <div class="accordion-item">
                          <h2 class="accordion-header d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center w-100">
                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRecep1">
                                Equipo 1
                              </button>
                              <button type="button" class="btn btn-outline-danger btn-sm remove-equipo" title="Eliminar equipo">
                                <i class="bi bi-trash3"></i>
                              </button>
                            </div>
                          </h2>

                          <div id="collapseRecep1" class="accordion-collapse collapse">
                            <div class="accordion-body">
                              
                              <div class="row g-3">
                                <div class="col-xxl-6 col-sm-6">
                                  <label class="form-label">Serial *</label>
                                  <input type="text" class="form-control serial" required>
                                </div>
                                <div class="col-xxl-6 col-sm-6">
                                  <label class="form-label">Modelo *</label>
                                  <input type="text" class="form-control modelo" required>
                                </div>
                              </div>

                              <!-- ESTADOS -->
                              <div class="mt-4">
                                <h6 class="text-primary mb-3"><i class="bi bi-gear me-2"></i>Estado de componentes</h6>
                                <div class="row g-3">
                                  <div class="col-md-3">
                                    <label class="form-label">Lápiz</label>
                                    <select class="form-select estado-lapiz">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Cuerda Lápiz</label>
                                    <select class="form-select estado-cuerdaLapiz">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Correa Mano</label>
                                    <select class="form-select estado-correaMano">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Teclado Principal</label>
                                    <select class="form-select estado-pantalla">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Teclas Laterales</label>
                                    <select class="form-select estado-base">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Pantalla</label>
                                    <select class="form-select estado-cargador">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Protector de pantalla</label>
                                    <select class="form-select estado-bateria">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Bateria</label>
                                    <select class="form-select estado-cableUSB">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Tapa de Bateria</label>
                                    <select class="form-select estado-estuche">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Empaque</label>
                                    <select class="form-select estado-empaque">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Tarjeta Alm</label>
                                    <select class="form-select estado-tornillos">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Cubierta de tarjeta</label>
                                    <select class="form-select estado-tapa">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Cristal lector</label>
                                    <select class="form-select estado-gatillo">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Carcaza superior</label>
                                    <select class="form-select estado-botones">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Carcaza inferior</label>
                                    <select class="form-select estado-audifonos">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">SIM Card</label>
                                    <select class="form-select estado-manual">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                </div>
                              </div>

                              <div class="mt-4">
                                <label class="form-label">Descripción del problema*</label>
                                <textarea class="form-control problema-equipo" rows="2" required></textarea>
                              </div>

                              <button type="button" class="btn btn-outline-danger btn-sm mt-2 remover-equipo" style="display:none;">✕ Remover equipo</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>

                  <!-- BOTONES PASO 2 -->
                  <div class="step-nav">
                    <button type="button" class="btn btn-secondary btn-lg wizard-prev-recepcion">
                      <i class="bi bi-arrow-left-circle me-1"></i> Atrás
                    </button>
                    <button type="button" class="btn btn-primary btn-lg wizard-next-recepcion">
                      Siguiente <i class="bi bi-arrow-right-circle ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- PASO 3: OBSERVACIONES -->
                <div class="wizard-step recepcion-step" data-step="3">
                  <section class="mt-3">
                    <label class="form-label text-primary"><i class="bi bi-pencil-square me-2"></i>Observaciones generales*</label>
                    <textarea class="form-control" id="observacionesRecepcion" rows="3" required></textarea>
                  </section>

                  <section class="mt-3">
                    <div class="row">
                      <div class="col-xxl-6 col-sm-6 mt-3">
                        <label for="nombreEntregaRecepcion" class="form-label">Nombre de quien entrega*</label>
                        <input type="text" id="nombreEntregaRecepcion" class="form-control" required>
                      </div>

                      <div class="col-xxl-6 col-sm-6 mt-3">
                        <label for="cedulaEntregaRecepcion" class="form-label">Cédula de quien entrega*</label>
                        <input type="number" id="cedulaEntregaRecepcion" class="form-control" required>
                      </div>
                    </div>
                  </section>

                  <!-- BOTONES PASO 3 -->
                  <div class="step-nav">
                    <button type="button" class="btn btn-secondary btn-lg wizard-prev-recepcion">
                      <i class="bi bi-arrow-left-circle me-1"></i> Atrás
                    </button>
                    <button type="button" class="btn btn-primary btn-lg wizard-next-recepcion">
                      Siguiente <i class="bi bi-arrow-right-circle ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- PASO 4: FIRMA Y EVIDENCIAS -->
                <div class="wizard-step recepcion-step" data-step="4">
                  <section class="mt-3">
                    <!-- FIRMA 1 -->
                    <div class="mb-4">
                      <label class="form-label">Firma de quien recibe:</label>
                      <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modalFirmaRecepcion">
                        <i class="bi bi-pencil"></i> Adjuntar firma
                      </button>
                      <small class="text-muted d-block mt-1">Presiona para firmar con el dedo o mouse</small>

                      <div id="previewFirmaRecepcion" class="mt-3" style="display:none;">
                        <p class="mb-1 text-muted">Vista previa:</p>
                        <img id="imgPreviewFirmaRecepcion" src="" alt="Firma guardada" class="border rounded shadow-sm" style="max-width:250px; max-height:120px;">
                      </div>
                    </div>

                    <!-- FIRMA 2 -->
                    <div class="mt-3">
                      <label class="form-label">Firma de quien entrega:</label>
                      <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modalFirmaEntregaRecepcion">
                        <i class="bi bi-pencil"></i> Adjuntar firma
                      </button>
                      <small class="text-muted d-block mt-1">Presiona para firmar con el dedo o mouse</small>

                      <div id="previewFirmaEntregaRecepcion" class="mt-3" style="display:none;">
                        <p class="mb-1 text-muted">Vista previa:</p>
                        <img id="imgPreviewFirmaEntregaRecepcion" src="" alt="Firma guardada" class="border rounded shadow-sm" style="max-width:250px; max-height:120px;">
                      </div>
                    </div>
                  </section>

                  <!-- EVIDENCIAS -->
                  <section class="mt-4 mb-3">
                    <label for="evidenciasRecepcion" class="form-label text-primary"><i class="bi bi-camera-fill me-2"></i>Evidencias fotográficas</label>
                    <input type="file" class="form-control" id="evidenciasRecepcion" multiple accept="image/*">
                    <small class="text-muted">Máximo 20 fotos (JPG o PNG)</small>
                  </section>

                  <!-- BOTONES PASO 4 -->
                  <div class="step-nav">
                    <button type="button" class="btn btn-secondary btn-lg wizard-prev-recepcion">
                      <i class="bi bi-arrow-left-circle me-1"></i> Atrás
                    </button>
                    <button type="submit" class="btn btn-success btn-lg">
                      Finalizar <i class="bi bi-check-circle ms-1"></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>

          <!-- ============================================ -->
          <!-- FORMULARIO DE ENTREGA TÉCNICA -->
          <!-- ============================================ -->
          <div class="form-container entrega-form" style="display: none;">
            <div class="card bg-light p-4 shadow">
              <h2 class="text-center mb-4 text-success">
                <i class="bi bi-box-arrow-up me-2"></i>Formulario de Entrega Técnica
              </h2>
              
              <!-- BARRA DE PESTAÑAS HORIZONTALES PARA PASOS -->
              <div class="nav-tabs-horizontal" id="entregaTabs">
                <button class="nav-tab-horizontal active" data-step="1"><i class="bi bi-info-circle me-2"></i>1. Información</button>
                <button class="nav-tab-horizontal disabled" data-step="2"><i class="bi bi-phone me-2"></i>2. Equipos</button>
                <button class="nav-tab-horizontal disabled" data-step="3"><i class="bi bi-journal-text me-2"></i>3. Observaciones</button>
                <button class="nav-tab-horizontal disabled" data-step="4"><i class="bi bi-pen me-2"></i>4. Firma y Evidencias</button>
              </div>

              <form class="row px-3 needs-validation" id="formularioEntrega" novalidate>
                <p><small>Los campos marcados con * son obligatorios.</small></p>

                <!-- PASO 1: INFORMACIÓN DE ENTREGA -->
                <div class="wizard-step entrega-step active" data-step="1">
                  <section class="mb-4">
                    <h5 class="border-bottom pb-2 text-success">
                      <i class="bi bi-person-check-fill me-2"></i>Información de Entrega
                    </h5>

                    <div class="row g-3">
                      <div class="col-xxl-4 col-sm-4">
                        <label for="fechaEntrega" class="form-label">Fecha*</label>
                        <input type="date" id="fechaEntrega" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="nombreEntrega" class="form-label">Nombre de quien entrega*</label>
                        <input type="text" id="nombreEntrega" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="cedulaEntrega" class="form-label">Cédula*</label>
                        <input type="number" id="cedulaEntrega" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="clienteEntrega" class="form-label">Cliente*</label>
                        <input type="text" id="clienteEntrega" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="idClienteEntrega" class="form-label">ID Cliente*</label>
                        <input type="text" id="idClienteEntrega" class="form-control" required>
                      </div>

                      <div class="col-xxl-4 col-sm-4">
                        <label for="ubicacionEntrega" class="form-label">Ubicación*</label>
                        <select class="form-select" id="ubicacionEntrega" required>
                          <option value="">Seleccione...</option>
                          <option value="Barranquilla">Barranquilla</option>
                          <option value="Bogotá">Bogotá</option>
                          <option value="Cali">Cali</option>
                          <option value="Cartagena">Cartagena</option>
                          <option value="Medellín">Medellín</option>
                          <option value="Bucaramanga">Bucaramanga</option>
                          <option value="Pereira">Pereira</option>
                          <option value="Cúcuta">Cúcuta</option>
                          <option value="Santa Marta">Santa Marta</option>
                          <option value="Sincelejo">Sincelejo</option>
                          <option value="Villavicencio">Villavicencio</option>
                          <option value="Yopal">Yopal</option>
                        </select>
                      </div>
                    </div>
                  </section>

                  <!-- BOTÓN SIGUIENTE -->
                  <div class="step-nav">
                    <div></div>
                    <button type="button" class="btn btn-success btn-lg wizard-next-entrega">
                      Siguiente <i class="bi bi-arrow-right-circle ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- PASO 2: EQUIPOS -->
                <div class="wizard-step entrega-step" data-step="2">
                  <section class="mt-3 mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                      <h5 class="border-bottom pb-2 text-success">
                        <i class="bi bi-laptop me-2"></i>Información del Equipo
                      </h5>
                      <button type="button" class="btn btn-outline-success btn-sm" id="agregarEquipoEntrega">
                        <i class="bi bi-plus-lg me-1"></i>Agregar otro equipo
                      </button>
                    </div>

                    <div class="equipo-container mt-3" id="accordionEquiposEntrega">
                      <!-- Equipo base -->
                      <div class="equipo-item border rounded p-3 mb-3 bg-white shadow-sm">
                        <div class="accordion-item">
                          <h2 class="accordion-header d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center w-100">
                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEntrega1">
                                Equipo 1
                              </button>
                              <button type="button" class="btn btn-outline-danger btn-sm remove-equipo" title="Eliminar equipo">
                                <i class="bi bi-trash3"></i>
                              </button>
                            </div>
                          </h2>

                          <div id="collapseEntrega1" class="accordion-collapse collapse">
                            <div class="accordion-body">
                              
                              <div class="row g-3">
                                <div class="col-xxl-6 col-sm-6">
                                  <label class="form-label">Serial *</label>
                                  <input type="text" class="form-control serial" required>
                                </div>
                                <div class="col-xxl-6 col-sm-6">
                                  <label class="form-label">Modelo *</label>
                                  <input type="text" class="form-control modelo" required>
                                </div>
                              </div>

                              <!-- ESTADOS -->
                              <div class="mt-4">
                                <h6 class="text-success mb-3"><i class="bi bi-gear me-2"></i>Estado de componentes</h6>
                                <div class="row g-3">
                                  <div class="col-md-3">
                                    <label class="form-label">Lápiz</label>
                                    <select class="form-select estado-lapiz">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Cuerda Lápiz</label>
                                    <select class="form-select estado-cuerdaLapiz">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Correa Mano</label>
                                    <select class="form-select estado-correaMano">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Teclado Principal</label>
                                    <select class="form-select estado-pantalla">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Teclas Laterales</label>
                                    <select class="form-select estado-base">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Pantalla</label>
                                    <select class="form-select estado-cargador">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Protector de pantalla</label>
                                    <select class="form-select estado-bateria">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Bateria</label>
                                    <select class="form-select estado-cableUSB">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Tapa de Bateria</label>
                                    <select class="form-select estado-estuche">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Empaque</label>
                                    <select class="form-select estado-empaque">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Tarjeta Alm</label>
                                    <select class="form-select estado-tornillos">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Cubierta de tarjeta</label>
                                    <select class="form-select estado-tapa">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Cristal lector</label>
                                    <select class="form-select estado-gatillo">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Carcaza superior</label>
                                    <select class="form-select estado-botones">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">Carcaza inferior</label>
                                    <select class="form-select estado-audifonos">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                  <div class="col-md-3">
                                    <label class="form-label">SIM Card</label>
                                    <select class="form-select estado-manual">
                                      <option>N/A</option>
                                      <option>B</option>
                                      <option>M</option>
                                    </select>
                                  </div>
                                </div>
                              </div>

                              <!-- CAMBIO DE REPUESTOS -->
                              <div class="mt-4">
                                <label class="form-label">¿Requirio cambio de repuestos?*</label>
                                <select class="form-select cambio-repuestos" required>
                                  <option value="">Seleccione...</option>
                                  <option value="S">Sí</option>
                                  <option value="N">No</option>
                                </select>
                              </div>

                              <!-- DESCRIPCIÓN DE SOLUCIÓN -->
                              <div class="mt-4">
                                <label class="form-label">Descripción de solución aplicada *</label>
                                <textarea class="form-control descripcion-solucion" rows="3" required></textarea>
                              </div>

                              <!-- VERIFICACIONES -->
                              <div class="mt-4">
                                <h6 class="text-success mb-3"><i class="bi bi-check-circle me-2"></i>Verificaciones</h6>
                                <div class="row g-3">
                                  <div class="col-md-4">
                                    <div class="form-check">
                                      <input class="form-check-input check-wifi" type="checkbox" id="wifiEntrega">
                                      <label class="form-check-label" for="wifiEntrega">
                                        Radios. WiFi
                                      </label>
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-check">
                                      <input class="form-check-input check-bluetooth" type="checkbox" id="bluetoothEntrega">
                                      <label class="form-check-label" for="bluetoothEntrega">
                                        Radios. Bluetooth
                                      </label>
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-check">
                                      <input class="form-check-input check-celular" type="checkbox" id="celularEntrega">
                                      <label class="form-check-label" for="celularEntrega">
                                        Radios. Celular
                                      </label>
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-check">
                                      <input class="form-check-input check-pantalla" type="checkbox" id="pantallaEntrega">
                                      <label class="form-check-label" for="pantallaEntrega">
                                        Pantalla, alineación e imagen.
                                      </label>
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-check">
                                      <input class="form-check-input check-escaner" type="checkbox" id="escanerEntrega">
                                      <label class="form-check-label" for="escanerEntrega">
                                        Lectura de Escáner
                                      </label>
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-check">
                                      <input class="form-check-input check-teclado" type="checkbox" id="tecladoEntrega">
                                      <label class="form-check-label" for="tecladoEntrega">
                                        Funcionamiento del Teclado
                                      </label>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <button type="button" class="btn btn-outline-danger btn-sm mt-2 remover-equipo" style="display:none;">✕ Remover equipo</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>

                  <!-- BOTONES PASO 2 -->
                  <div class="step-nav">
                    <button type="button" class="btn btn-secondary btn-lg wizard-prev-entrega">
                      <i class="bi bi-arrow-left-circle me-1"></i> Atrás
                    </button>
                    <button type="button" class="btn btn-success btn-lg wizard-next-entrega">
                      Siguiente <i class="bi bi-arrow-right-circle ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- PASO 3: OBSERVACIONES -->
                <div class="wizard-step entrega-step" data-step="3">
                  <section class="mt-3">
                    <label class="form-label text-success"><i class="bi bi-pencil-square me-2"></i>Observaciones generales*</label>
                    <textarea class="form-control" id="observacionesEntrega" rows="3" required></textarea>
                  </section>

                  <section class="mt-3">
                    <div class="row">
                      <div class="col-xxl-6 col-sm-6 mt-3">
                        <label for="nombreRecepcionEntrega" class="form-label">Nombre de quien recibe*</label>
                        <input type="text" id="nombreRecepcionEntrega" class="form-control" required>
                      </div>

                      <div class="col-xxl-6 col-sm-6 mt-3">
                        <label for="cedulaRecepcionEntrega" class="form-label">Cédula de quien recibe*</label>
                        <input type="number" id="cedulaRecepcionEntrega" class="form-control" required>
                      </div>
                    </div>
                  </section>

                  <!-- BOTONES PASO 3 -->
                  <div class="step-nav">
                    <button type="button" class="btn btn-secondary btn-lg wizard-prev-entrega">
                      <i class="bi bi-arrow-left-circle me-1"></i> Atrás
                    </button>
                    <button type="button" class="btn btn-success btn-lg wizard-next-entrega">
                      Siguiente <i class="bi bi-arrow-right-circle ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- PASO 4: FIRMA Y EVIDENCIAS -->
                <div class="wizard-step entrega-step" data-step="4">
                  <section class="mt-3">
                    <!-- FIRMA 1 -->
                    <div class="mb-4">
                      <label class="form-label">Firma de quien entrega:</label>
                      <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#modalFirmaRecepcionEntrega">
                        <i class="bi bi-pencil"></i> Adjuntar firma
                      </button>
                      <small class="text-muted d-block mt-1">Presiona para firmar con el dedo o mouse</small>

                      <div id="previewFirmaRecepcionEntrega" class="mt-3" style="display:none;">
                        <p class="mb-1 text-muted">Vista previa:</p>
                        <img id="imgPreviewFirmaRecepcionEntrega" src="" alt="Firma guardada" class="border rounded shadow-sm" style="max-width:250px; max-height:120px;">
                      </div>
                    </div>

                    <!-- FIRMA 2 -->
                    <div class="mt-3">
                      <label class="form-label">Firma de quien recibe:</label>
                      <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#modalFirmaEntrega">
                        <i class="bi bi-pencil"></i> Adjuntar firma
                      </button>
                      <small class="text-muted d-block mt-1">Presiona para firmar con el dedo o mouse</small>

                      <div id="previewFirmaEntrega" class="mt-3" style="display:none;">
                        <p class="mb-1 text-muted">Vista previa:</p>
                        <img id="imgPreviewFirmaEntrega" src="" alt="Firma guardada" class="border rounded shadow-sm" style="max-width:250px; max-height:120px;">
                      </div>
                    </div>
                  </section>

                  <!-- EVIDENCIAS -->
                  <section class="mt-4 mb-3">
                    <label for="evidenciasEntrega" class="form-label text-success"><i class="bi bi-camera-fill me-2"></i>Evidencias fotográficas</label>
                    <input type="file" class="form-control" id="evidenciasEntrega" multiple accept="image/*">
                    <small class="text-muted">Máximo 20 fotos (JPG o PNG)</small>
                  </section>

                  <!-- BOTONES PASO 4 -->
                  <div class="step-nav">
                    <button type="button" class="btn btn-secondary btn-lg wizard-prev-entrega">
                      <i class="bi bi-arrow-left-circle me-1"></i> Atrás
                    </button>
                    <button type="submit" class="btn btn-success btn-lg">
                      Finalizar <i class="bi bi-check-circle ms-1"></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODALES -->
    <!-- MODAL FIRMA RECEPCIÓN -->
    <div class="modal fade" id="modalFirmaRecepcion" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title"><i class="bi bi-pencil-square me-2"></i>Capturar firma - Recepción</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body text-center">
            <div style="max-width:100%; overflow:hidden;">
              <canvas id="firmaCanvasRecepcion" class="border border-3 rounded bg-white shadow-sm"></canvas>
            </div>
          </div>
          <div class="modal-footer justify-content-between">
            <button type="button" class="btn btn-outline-danger" id="limpiarFirmaRecepcion"><i class="bi bi-eraser"></i> Limpiar</button>
            <div>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancelar</button>
              <button type="button" class="btn btn-primary" id="guardarFirmaRecepcion" data-bs-dismiss="modal"><i class="bi bi-check2-circle"></i> Guardar firma</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL FIRMA ENTREGA -->
    <div class="modal fade" id="modalFirmaEntrega" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg">
          <div class="modal-header bg-success text-white">
            <h5 class="modal-title"><i class="bi bi-pencil-square me-2"></i>Capturar firma - Entrega</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body text-center">
            <div style="max-width:100%; overflow:hidden;">
              <canvas id="firmaCanvasEntrega" class="border border-3 rounded bg-white shadow-sm"></canvas>
            </div>
          </div>
          <div class="modal-footer justify-content-between">
            <button type="button" class="btn btn-outline-danger" id="limpiarFirmaEntrega"><i class="bi bi-eraser"></i> Limpiar</button>
            <div>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancelar</button>
              <button type="button" class="btn btn-success" id="guardarFirmaEntrega" data-bs-dismiss="modal"><i class="bi bi-check2-circle"></i> Guardar firma</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL FIRMA ENTREGA EN RECEPCIÓN -->
    <div class="modal fade" id="modalFirmaEntregaRecepcion" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title"><i class="bi bi-pencil-square me-2"></i>Capturar firma - Quien Entrega (Recepción)</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body text-center">
            <div style="max-width:100%; overflow:hidden;">
              <canvas id="firmaCanvasEntregaRecepcion" class="border border-3 rounded bg-white shadow-sm"></canvas>
            </div>
          </div>
          <div class="modal-footer justify-content-between">
            <button type="button" class="btn btn-outline-danger" id="limpiarFirmaEntregaRecepcion"><i class="bi bi-eraser"></i> Limpiar</button>
            <div>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancelar</button>
              <button type="button" class="btn btn-primary" id="guardarFirmaEntregaRecepcion" data-bs-dismiss="modal"><i class="bi bi-check2-circle"></i> Guardar firma</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL FIRMA RECEPCIÓN EN ENTREGA -->
    <div class="modal fade" id="modalFirmaRecepcionEntrega" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg">
          <div class="modal-header bg-success text-white">
            <h5 class="modal-title"><i class="bi bi-pencil-square me-2"></i>Capturar firma - Quien Recibe (Entrega)</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body text-center">
            <div style="max-width:100%; overflow:hidden;">
              <canvas id="firmaCanvasRecepcionEntrega" class="border border-3 rounded bg-white shadow-sm"></canvas>
            </div>
          </div>
          <div class="modal-footer justify-content-between">
            <button type="button" class="btn btn-outline-danger" id="limpiarFirmaRecepcionEntrega"><i class="bi bi-eraser"></i> Limpiar</button>
            <div>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> Cancelar</button>
              <button type="button" class="btn btn-success" id="guardarFirmaRecepcionEntrega" data-bs-dismiss="modal"><i class="bi bi-check2-circle"></i> Guardar firma</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL CONFIRMAR ELIMINACIÓN -->
    <div class="modal fade" id="modalConfirmarEliminar" data-bs-backdrop="static" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 shadow">
          <div class="modal-header bg-danger text-white text-center">
            <h5 class="modal-title w-100"><i class="bi bi-exclamation-triangle me-2"></i>Confirmar Eliminación</h5>
          </div>
          <div class="modal-body text-center">
            ¿Deseas eliminar este equipo?<br><small class="text-muted">Esta acción no se puede deshacer.</small>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-danger" id="btnConfirmarEliminar"><i class="bi bi-trash3 me-1"></i> Sí, eliminar</button>
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle me-1"></i>Cancelar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL ALERTA GENERAL -->
    <div class="modal fade" id="staticBackdrop2" data-bs-backdrop="static" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 shadow">
          <div class="modal-header bg-danger text-white text-center">
            <h5 class="modal-title w-100" id="modalAlert"><i class="bi bi-exclamation-triangle me-2"></i>Atención</h5>
          </div>
          <div class="modal-body text-center" id="modalAlertBody">Los campos con * son obligatorios.</div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal"><i class="bi bi-check2-circle me-1"></i>Ok</button>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL ENVIAR CORREO -->
    <div class="modal fade" id="modalEnviarCorreo" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow-lg">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title">
              <i class="bi bi-envelope-fill me-2"></i>Enviar Documento por Correo
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="correoDestinatario" class="form-label">
                <i class="bi bi-envelope me-1"></i>Correo electrónico del destinatario *
              </label>
              <input 
                type="email" 
                class="form-control" 
                id="correoDestinatario" 
                placeholder="ejemplo@correo.com"
                required
              >
              <div class="invalid-feedback">
                Por favor ingresa un correo válido
              </div>
            </div>
            
            <!-- Preview del correo -->
            <div class="card bg-light border-0 mb-3">
              <div class="card-body">
                <h6 class="card-subtitle mb-3 text-muted">
                  <i class="bi bi-eye me-1"></i>Vista previa del correo
                </h6>
                
                <div class="mb-2">
                  <small class="text-muted fw-bold">Asunto:</small>
                  <p class="mb-0 mt-1" id="previewAsunto">
                    <i class="bi bi-file-earmark-text me-1"></i>
                    Documento de Gestión Técnica
                  </p>
                </div>
                
                <hr class="my-2">
                
                <div>
                  <small class="text-muted fw-bold">Mensaje:</small>
                  <p class="mb-0 mt-1 small text-secondary" id="previewMensaje" style="line-height: 1.6;">
                    Estimado/a,<br><br>
                    Este documento ha sido generado automaticamente. 
                    El archivo adjunto contiene toda la información detallada del servicio.<br><br>
                    Por favor, descargue el documento y guárdelo para sus registros.<br><br>
                    Verifique siempre la información generada en el documento.<br><br>
                    <strong>Sistema de Gestión Técnica</strong>
                  </p>
                </div>
              </div>
            </div>

            <div class="alert alert-info d-flex align-items-center" role="alert">
              <i class="bi bi-info-circle-fill me-2 flex-shrink-0"></i>
              <small>El documento se generará y enviará automáticamente con el asunto y mensaje mostrado arriba.</small>
            </div>

            <div id="estadoEnvio" class="alert d-none" role="alert"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              <i class="bi bi-x-circle me-1"></i>Cancelar
            </button>
            <button type="button" class="btn btn-primary" id="btnConfirmarEnvio">
              <span class="spinner-border spinner-border-sm me-2 d-none" id="spinnerEnvio"></span>
              <i class="bi bi-send-fill me-1"></i>Enviar
            </button>
          </div>
        </div>
      </div>
    </div>

    <footer class="mt-5 text-center text-muted">© 2025 Sistema de Gestión Técnica</footer>

    <!-- LIBRERÍAS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.4.0/exceljs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx-populate/browser/xlsx-populate.min.js"></script>

    <!-- SCRIPTS PRINCIPALES -->
    <script src="./JS/script-unificado.js"></script>
    <script src="./JS/steps.js"></script>
  </body>
</html>